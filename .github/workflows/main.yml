name: auto deploy for vue project

#å½“åœ¨msteråˆ†æ”¯ä¸Šï¼Œè¿›è¡Œpushã€pull_requestsæ“ä½œæ—¶ï¼Œä¼šè§¦å‘æ­¤å·¥ä½œæµã€‚
on:
  push:
    branches: ['master']
  pull_request:
    branches: ['master']

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

#ä¸€ä¸ªå·¥ä½œæµå¯ä»¥åˆ†ä¸ºå¥½å‡ ä¸ªjob
jobs:
  #æœ‰ä¸€ä¸ªåç§°ä¸ºbuildçš„job
  build:
    # å½“å‰jobåœ¨ä»€ä¹ˆç¯å¢ƒé‡Œæ‰§è¡Œï¼Œè¿™é‡Œä½¿ç”¨æœ€æ–°çš„ubuntuç³»ç»Ÿ
    runs-on: ubuntu-latest

    # ä¸€ä¸ªjobé‡Œï¼Œå¯ä»¥åˆ†ä¸ºå¥½å¤šä¸ªæ­¥éª¤
    steps:
      # 1.å…ˆå°†ä»£ç æ‹·è´åˆ°è™šæ‹Ÿæœºé‡Œï¼Œè¿™é‡Œä½¿ç”¨äº†åˆ«äººå°è£…å¥½çš„actions
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      # 2.å®‰è£…ä¾èµ–ï¼Œå¹¶æ‰“åŒ…
      - name: Install and Build  ğŸ”§
        run: |
          npm ci
          npm run build

      # 3.éƒ¨ç½²
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          branch: gh-pages # å­˜æ”¾äº§ç‰©çš„åˆ†æ”¯åç§°
          folder: dist # å­˜æ”¾buildåäº§ç‰©çš„ç›®å½•
